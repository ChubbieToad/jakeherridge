
---
layout: layouts/base.njk
title: Ideas
permalink: "/ideas/index.html"
pagination:
  data: collections.livePosts
  size: 8
  alias: posts
---
<section class="max-w-4xl mx-auto p-6">
  <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between">
    <h1 class="text-2xl font-bold">Ideas</h1>
    <input id="search" type="search" placeholder="Search posts..." class="p-2 rounded text-black w-full md:w-64">
  </div>

  <div class="mt-4 flex gap-2 flex-wrap">
    <button class="tag px-3 py-1 rounded panel" data-tag="all">All</button>
    
  </div>

  <div id="posts" class="mt-6 grid grid-cols-1 gap-4">
    
  </div>

  <!-- Pagination nav -->
  <div class="flex justify-between items-center mt-8">
    
      <span></span>
    
    <span class="text-sm text-[color:var(--muted)]">Page NaN of 0</span>
    
      <span></span>
    
  </div>
</section>

<script>
  const input = document.getElementById('search');
  const postsEls = Array.from(document.querySelectorAll('.post'));
  const tagButtons = Array.from(document.querySelectorAll('.tag'));
  let activeTag = 'all';

  function filter() {
    const q = (input.value || '').toLowerCase();
    postsEls.forEach(p => {
      const text = p.innerText.toLowerCase();
      const tags = p.dataset.tags || '';
      const tagOk = (activeTag === 'all') || tags.split(',').includes(activeTag.toLowerCase());
      const textOk = !q || text.includes(q);
      p.style.display = (tagOk && textOk) ? '' : 'none';
    });
  }
  input.addEventListener('input', filter);
  tagButtons.forEach(btn => btn.addEventListener('click', () => {
    activeTag = btn.dataset.tag;
    tagButtons.forEach(b => b.classList.remove('ring-2'));
    btn.classList.add('ring-2','ring-[color:var(--accent)]');
    filter();
  }));
</script>
